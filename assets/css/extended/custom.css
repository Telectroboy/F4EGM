/* ==========================================
   FOND GLOBAL (toujours visible)
   ========================================== */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    background-image: url(/images/fondF4EGM.png);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    z-index: -2; /* sous tout */
    filter: brightness(.55) contrast(1.1);
}

/* ==========================================
   OVERLAY SUR LA ZONE D'ÉCRITURE + MENU
   ========================================== */
body .main::before,
body .nav::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 12px;
    z-index: -1; /* entre fond et texte */
    backdrop-filter: blur(6px);
    transition: background-color 0.3s ease, -webkit-mask-image 0.3s ease;
    
    /* BORDS DÉGRADÉS pour transition douce 
    -webkit-mask-image: radial-gradient(circle at center, rgba(0,0,0,1) 90%, rgba(0,0,0,0) 100%);
    mask-image: radial-gradient(circle at center, rgba(0,0,0,1) 90%, rgba(0,0,0,0) 100%);
    mask-repeat: no-repeat;
    mask-position: center;
    mask-size: cover;
}*/
    /* Masque dégradé sur tous les bords */
    -webkit-mask-image: 
        linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1) 5%, rgba(0,0,0,1) 95%, rgba(0,0,0,0));
    -webkit-mask-composite: destination-in;
    mask-image: 
        linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1) 5%, rgba(0,0,0,1) 95%, rgba(0,0,0,0));
    mask-composite: intersect;

    /* Combinaison pour haut/bas */
    -webkit-mask-image: 
        linear-gradient(to top, rgba(0,0,0,0), rgba(0,0,0,1) 5%, rgba(0,0,0,1) 95%, rgba(0,0,0,0)),
        linear-gradient(to left, rgba(0,0,0,0), rgba(0,0,0,1) 5%, rgba(0,0,0,1) 95%, rgba(0,0,0,0));
    -webkit-mask-composite: destination-in;
    mask-image: 
        linear-gradient(to top, rgba(0,0,0,0), rgba(0,0,0,1) 5%, rgba(0,0,0,1) 95%, rgba(0,0,0,0)),
        linear-gradient(to left, rgba(0,0,0,0), rgba(0,0,0,1) 5%, rgba(0,0,0,1) 95%, rgba(0,0,0,0));
    mask-composite: intersect;
}

/* ==========================================
   LIGHT MODE
   ========================================== */
html[data-theme="light"] body .main::before,
html[data-theme="light"] body .nav::before {
    background-color: rgba(255,255,255,0.4); /* même luminosité */
}

/* ==========================================
   DARK MODE
   ========================================== */
html[data-theme="dark"] body .main::before,
html[data-theme="dark"] body .nav::before {
    background-color: rgba(0,0,0,0.5); /* même luminosité */
}

/* ==========================================
   POSITIONNEMENT RELATIF DES ZONES
   ========================================== */
body .main,
body .nav {
    position: relative;
    z-index: 0;
    border-radius: 12px;
    padding: 2rem;
    background: transparent; /* l’overlay ::before gère le flou / couleur */
}

/* ==========================================
   TEXTE
   ========================================== */
body .main,
body .nav,
body .main * {
    color: var(--primary); /* ou définir selon thème */
}


/*AJOUT GRILLE ET mode HERE*/
/* Largeur confort sur desktop */
.main {
  max-width: 1400px;
}

/* =========================
   HERO (1er post / dernier)
   ========================= */

/* PaperMod met un "first-entry" pour le post mis en avant */
.first-entry {
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 14px 36px rgba(0,0,0,0.12);
  margin-bottom: 28px;
}

/* Cover du hero */
.first-entry .entry-cover img {
  width: 100%;
  height: 360px;
  object-fit: cover;
  display: block;
}

/* Titre du hero un peu plus "magazine" */
.first-entry .entry-header h2 {
  font-size: 1.6rem;
  line-height: 1.15;
}

/* Extrait du hero */
.first-entry .entry-content {
  font-size: 1.05rem;
  opacity: 0.95;
}

/* =========================
   GRID (liste des posts)
   ========================= */

/* Le conteneur des entrées en mode grille */
.main .post-entry:not(.first-entry) {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 22px;
  align-items: stretch;
}

/* Chaque carte (article) */
.main .post-entry:not(.first-entry) > article {
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 10px 26px rgba(0,0,0,0.10);
  transition: transform .15s ease, box-shadow .15s ease;
}

.main .post-entry:not(.first-entry) > article:hover {
  transform: translateY(-4px);
  box-shadow: 0 14px 34px rgba(0,0,0,0.14);
}

/* Cover des cartes */
.main .post-entry:not(.first-entry) .entry-cover img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  display: block;
}

/* Titre des cartes */
.main .post-entry:not(.first-entry) .entry-header h2 {
  font-size: 1.05rem;
  line-height: 1.25;
}

/* Extrait des cartes : clamp pour un rendu propre */
.main .post-entry:not(.first-entry) .entry-content {
  display: -webkit-box;
  -webkit-line-clamp: 3;      /* 3 lignes d'extrait */
  -webkit-box-orient: vertical;
  overflow: hidden;
  opacity: 0.9;
}

/* =========================
   Responsive
   ========================= */

@media (max-width: 1200px) {
  .main .post-entry:not(.first-entry) {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  .first-entry .entry-cover img {
    height: 300px;
  }
}

@media (max-width: 720px) {
  .main .post-entry:not(.first-entry) {
    grid-template-columns: 1fr;
  }
  .first-entry .entry-cover img {
    height: 220px;
  }
}

