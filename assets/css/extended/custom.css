/* ==========================
   Fond d'écran global
   ========================== */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    background-image: url(/images/fondF4EGM.png);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    z-index: -2; /* sous tout */
    filter: brightness(1) contrast(1.1); /* clair par défaut */
    transition: filter 0.3s ease;
}

body[data-theme="dark"]::before {
    filter: brightness(0.5) contrast(1.1); /* assombrit en dark mode */
}

/* ==========================
   Overlay flou sur la zone principale
   ========================== */
body .main::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 12px;
    z-index: -1; /* entre fond et texte */
    backdrop-filter: blur(6px);
    transition: background-color 0.3s ease, backdrop-filter 0.3s ease;
}

/* Overlay flou sur le menu / header */
body .nav::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: -1;
    backdrop-filter: blur(6px);
    transition: background-color 0.3s ease, backdrop-filter 0.3s ease;
}

/* ==========================
   Mode clair
   ========================== */
body[data-theme="light"] .main::before {
    background-color: rgba(255,255,255,0.4);
}

body[data-theme="light"] .nav::before {
    background-color: rgba(255,255,255,0.3);
}

/* ==========================
   Mode sombre
   ========================== */
body[data-theme="dark"] .main::before {
    background-color: rgba(0,0,0,0.5);
}

body[data-theme="dark"] .nav::before {
    background-color: rgba(0,0,0,0.4);
}

/* ==========================
   Position relative nécessaire
   ========================== */
body .main, 
body .nav {
    position: relative;
    z-index: 0;
    overflow: hidden; /* évite que le flou dépasse */
}
