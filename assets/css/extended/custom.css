/* ==========================================
   FOND GLOBAL (toujours visible)
   ========================================== */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    background-image: url(/images/fondF4EGM.png);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    z-index: -2; /* sous tout */
    filter: brightness(.55) contrast(1.1);
}

/* ==========================================
   OVERLAY SUR LA ZONE D'ÉCRITURE
   ========================================== */
body .main::before,
body .nav::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 12px;
    z-index: -1; /* entre fond et texte */
    backdrop-filter: blur(6px);
    transition: background-color 0.3s ease;
}

/* ==========================================
   LIGHT MODE
   ========================================== */
html[data-theme="light"] body .main::before {
    background-color: rgba(255,255,255,0.4);
}
html[data-theme="light"] body .nav::before {
    background-color: rgba(255,255,255,0.3);
}

/* ==========================================
   DARK MODE
   ========================================== */
html[data-theme="dark"] body .main::before {
    background-color: rgba(0,0,0,0.5);
}
html[data-theme="dark"] body .nav::before {
    background-color: rgba(0,0,0,0.4);
}

/* ==========================================
   POSITIONNEMENT RELATIF DES ZONES
   ========================================== */
body .main,
body .nav {
    position: relative;
    z-index: 0;
    border-radius: 12px;
    padding: 2rem;
    background: transparent; /* l’overlay ::before gère le flou / couleur */
}

/* ==========================================
   TEXTE
   ========================================== */
body .main,
body .nav,
body .main * {
    color: var(--primary); /* ou définir selon thème */
}
